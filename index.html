<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Inicial - App DrinkDrips</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Honk&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic+Coding&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js@1.3.6/dist/web3.min.js"></script>
    <style>
        .lyrics {
            max-width: 600px;
            white-space: pre-line;
            font-size: 20px;
            line-height: 1.6;
            width: 80%;
            margin: auto;
            position: relative;
            top: 100%;
        }
        .ipa {
            color: red;
            font-size: 24px;
            font-weight: bold;
            text-shadow: 2px 2px 4px black;
            display: block;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <h1>DrinkDrips Music IPA</h1>
                <button class="connect-button">
                    <i class="fas fa-wallet"></i> Conectar a MetaMask
                </button>
            </div>
        </div>
    </header>
<!-- INSTRUÇÕES INICIAIS -->
    <div class="container my-5">
        <div class="row equal-height">
            <div class="col-lg-12">
                <div class="card bg-dark text-white mb-4">
                    <div class="card-body">
                        <h3 class="card-title">Como testar a DrinkDrips ?</h3>

                        <div class="row">
                            <div class="col-md-6 mb-4">
                                <div class="card">
                                    <div class="card-body lyrics" id="lyrics">
                                            
                                                    <b>Wish I could</b> <span class="ipa">wɪʃ aɪ kʊd</span>
                                                    <b>I could've said goodbye</b> <span class="ipa">aɪ kʊdəv sɛd ɡʊdˈbaɪ</span></p>
                                                    <b>I would've said what I wanted to</b> <span class="ipa">aɪ wʊdəsɛd waraiwante to</span>
                                                    <p><b>Maybe even cried for you</b> <span class="ipa">meɪbi ˈivn̩ kraɪd for iu</span>
                                            
                                                    <b>If I knew it would be the last time</b> <span class="ipa">ɪfaɪ nuː ɪt wʊd̬ bi ðə læs taɪm</span>
                                                    <b>I would've broke my heart in two</b> <span class="ipa">aɪ wʊdə broʊk maɪ hɑrn̩ tu</span>
                                                    <b>Trying to save a part of you</b> <span class="ipa">ˈtraɪɪnə seɪv ə pɑrɾəv ju</span>
                                            
                                                    <h2>Refrão:</h2>
                                                    <b>Don't wanna feel another touch</b> <span class="ipa">doʊn wʌnə fɪl əˈnʌðɚ tʌtʃ</span>
                                                    <b>Don't wanna start another fire</b> <span class="ipa">doʊn wʌnə stɑrɾəˈnʌðɚ faɪɚ</span>
                                                    <b>Don't wanna know another kiss</b> <span class="ipa">doʊn wʌnə noʊ əˈnʌðɚ kɪs</span>
                                                    <b>No other name falling off my lips</b> <span class="ipa">noʊ ˈʌðɚ neɪm fɑːlɪn ɑf maɪ lɪps</span>
                                            
                                                    <p><b>Don't wanna give my heart away</b> <span class="ipa">doʊnt wɑnə ɡɪv maɪ hɑrt əweɪ</span></p>
                                                    <p><b>To another stranger</b> <span class="ipa">tə anãrar ˈstreɪndʒər</span></p>
                                                    <p><b>Or let another day begin</b> <span class="ipa">ɔr lɛt əˈnʌðər deɪ bɪˈɡɪn</span></p>
                                                    <p><b>Won't even let the sunlight in</b> <span class="ipa">woʊnt ˈivɪn lɛt ðə ˈsʌnˌlaɪt ɪn</span></p>
                                                    <p><b>No I'll never love again</b> <span class="ipa">noʊ aɪl ˈnɛvər lʌv əˈɡɛn</span></p>
                                                    <p><b>I'll never love again</b> <span class="ipa">aɪl ˈnɛvər lʌv əˈɡɛn</span></p>
                                                    <p><b>Oouu oou oou</b> <span class="ipa">uː uː uː</span></p>
                                            
                                                    <p><b>When we first met</b> <span class="ipa">wɛn wi fɚst mɛt</span></p>
                                                    <p><b>I never thought that I would fall</b> <span class="ipa">aɪ ˈnɛvɚ θɑːɾaɪ wʊd fɑl</span></p>
                                                    <p><b>I never thought that I'd find myself</b> <span class="ipa">aɪ ˈnɛvɚ θɑːɾaɪd faɪn maɪˈsɛlf</span></p>
                                                    <p><b>Lying in your arms</b> <span class="ipa">laɪɪŋ ɪn jʊər ɑrmz</span></p>
                                                    <p><b>And I wanna pretend that it's not true</b> <span class="ipa">ænd aɪ wɑnə prɪˈtɛnd ðət ɪts nɑt tru</span></p>
                                                    <p><b>Oh, baby that you're gone</b> <span class="ipa">oʊ, ˈbeɪbi ðət jʊər ɡɔn</span></p>
                                                    <p><b>Cause my world keeps turning and turning and turning</b> <span class="ipa">kɔz maɪ wɜrld kips ˈtɜrnɪŋ ənd ˈtɜrnɪŋ ənd ˈtɜrnɪŋ</span></p>
                                                    <p><b>and I'm not moving on</b> <span class="ipa">ænd aɪm nɑt ˈmuːvɪŋ ɔn</span></p>
                                            
                                                    <h2>Refrão:</h2>
                                                    <p><b>Don't wanna feel another touch</b> <span class="ipa">/doʊn wʌnə fɪl əˈnʌðɚ tʌtʃ/</span></p>
                                                    <p><b>Don't wanna start another fire</b> <span class="ipa">/doʊn wʌnə stɑrɾəˈnʌðɚ faɪɚ/</span></p>
                                                    <p><b>Don't wanna know another kiss</b> <span class="ipa">/doʊn wʌnə noʊ əˈnʌðɚ kɪs/</span></p>
                                                    <p><b>No other name falling off my lips</b> <span class="ipa">/noʊ ˈʌðɚ neɪm fɑːlɪn ɑf maɪ lɪps/</span></p>
                                            
                                                    <p><b>Don't wanna give my heart away</b> <span class="ipa">doʊnt wɑnə ɡɪv maɪ hɑrt əweɪ</span></p>
                                                    <p><b>To another stranger</b> <span class="ipa">tə anãrar ˈstreɪndʒər</span></p>
                                                    <p><b>Or let another day begin</b> <span class="ipa">ɔr lɛt əˈnʌðər deɪ bɪˈɡɪn</span></p>
                                                    <p><b>Won't even let the sunlight in</b> <span class="ipa">woʊnt ˈivɪn lɛt ðə ˈsʌnˌlaɪt ɪn</span></p>
                                                
                                            
                                                <script>
    let scrollSpeed = 0.5; // Ajuste para alterar a velocidade
    let lyrics = document.getElementById("lyrics");
    let position = 0; // Começa no topo

    function scrollLyrics() {
        position -= scrollSpeed;
        lyrics.style.transform = `translateY(${position}px)`;

        if (Math.abs(position) < lyrics.clientHeight) {
            requestAnimationFrame(scrollLyrics);
        }
    }

    scrollLyrics();
</script>

                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 mb-4">
                                <div class="card">
                                    <div class="card-body">
                                        <small id="Help">
                                        <p>6. Certifique-se de ter aceito o convite e confirmado o acesso ao servidor para que o faucet funcione</p>
                                        <p>7. Se você seguiu as etapas anteriores com sucesso o formulário do faucet estará liberado</p>
                                        <p>8. Selecione Polygon Pos (Amoy), cole o endereço da sua carteira metamask em "Wallet Address" e envie</p>
                                        <p>9. Você receberá 0.2 MATICS na sua carteira metamask</p>
                                        <p>10. E já está apto a testar as funcionalidades da DrinkDrips :)</p>
                                        <ul>
                                            <li>Como você terá apenas 0.2 MATICS, ao fazer os testes, procure utilizar valores baixos como 0.001 e assim por diante</li>
                                            <li>Assim você consegue economizar suas MATICS e fazer muito mais testes</li>
                                            <li>Se suas MATICS acabarem, siga os passos novamente para obter mais 0.2 e continuar testando a DrinkDrips</li>
                                        </ul>
                                        <h3>Muito obrigado pela paciência e colaboração :)</h3>
                                       </small>
                                    </div>
                                </div>
                            </div>
                         </div>
                      </div>
                   </div>
                </div>
              </div>
           </div>
  <!-- FIM DO BLOCO DE INSTRUÇÕES -->
 
  
  <!-- DASHBOARD INICIAL -->
    <div class="container my-5">
        <div class="row equal-height">
            <div class="col-lg-12">
                <div class="card bg-dark text-white mb-4">
                    <div class="card-body">
                        <h3 class="card-title">Visão Geral</h3>
                        
                        <div class="row">
                            <div class="col-md-6 mb-4">
                                <div class="card">
                                    <div class="card-body">
                                        <h3 class="card-title">Dashboard DrinkDrips</h3>
                                        
                                        <p>Fornecimento máximo: <span id="maxSupply">Loading...</span> Drinks</p>
                                        <p>Fornecimento circulante: <span id="totalSupply">Loading...</span> Drinks</p>
                                        <p>Stakeholders: <span id="stakeHolders">Loading...</span></p>
                                        <p>Total de Drinks em stake: <span id="totalstakedTokens">Loading...</span> Drinks</p>
                                        <p>Recompensas(DRIPS) distríbuídas: <span id="dripstotalSupply">Loading...</span> Drips</p>
                                       
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 mb-4">
                                <div class="card">
                                    <div class="card-body">
                                        <h3 class="card-title">Comprar Drinks</h3>
                                        <form id="buyDrinksForm">
                                            <div class="form-group">
                                                <label for="paymentToken">Pagar com:</label>
                                                <select class="form-control" id="paymentToken">
                                                    <option value="usd">USDC</option>
                                                </select>
                                            </div>
                                            <div class="form-group">
                                                <label for="usdAmount">Valor:</label>
                                                <input type="number" class="form-control" id="usdAmount" placeholder="Digite apenas números inteiros" step="1" min="0">
                                            </div>
                                            <button type="submit" class="btn btn-primary btn-block">Comprar DRINK</button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                         </div>
                      </div>
                   </div>
                </div>
              </div>
           </div>
  <!-- FIM DO DASHBOARD INICIAL -->

  <!-- ÁREA DE STAKE -->       
  <div class="container my-5">
   <div class="row equal-height">
    <div class="col-lg-12">
     <div class="card bg-dark text-white mb-4">
      <div class="card-body">
        <h2 class="card-title">STAKE</h2>
        <div class="row">
         <div class="col-md-6 mb-4">
          <div class="card">
           <div class="card-body">
             <form id="approveDrinksForm">
              <div class="form-group">
               <label for="approveAmount">Aprove a quantidade de Drinks que você quer deixar em Stake</label>
                <input type="number" class="form-control" id="approveAmount" placeholder="0" step="1" min="0">
                                            </div>
                                            <button type="submit" class="btn btn-secondary btn-block">Aprovar</button>
                                        </form>
                                        <form id="stakeDrinksForm" class="mt-3">
                                            <div class="form-group">
                                                <label for="stakeAmount">Após a aprovação, basta inserir a quandidade de Drinks e clicar em Stake:</label>
                                                <input type="number" class="form-control" id="stakeAmount" placeholder="0" step="1" min="1">
                                            </div>
                                            <button type="submit" class="btn btn-success btn-block">Stake</button>
                                        </form>
                                        <form id="unstakeDrinksForm" class="mt-3">
                                            <div class="form-group">
                                                <label for="unstakeAmount">Remover Stake:</label>
                                                <input type="number" class="form-control" id="unstakeAmount" placeholder="0" step="1" min="0">
                                            </div>
                                            <button type="submit" class="btn btn-danger btn-block">Unstake</button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 mb-4">
                                <div class="card">
                                    <div class="card-body">
                                        <h3 class="card-title">Seu Painel</h3>
                                        <p>Seu saldo de Drinks: <span id="drinkBalance">Loading...</span> Drinks</p>
                                        <p>Seus Drinks em Stake: <span id="stakingBalance">Loading...</span> Drinks</p>
                                        <h3 class="card-title">Suas recompensas</h3>
                                        <p>Seu saldo de Drips: <span id="dripsBalance">Loading...</span></p>
                                         <p>Drips a reivindicar: <span id="claimableDrips">Loading...</span></p>
                                        <form id="claimDripsForm">
                                            <button type="submit" class="btn btn-success btn-block">Reivindicar DRIPS</button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                         </div>
                      </div>
                   </div>
                </div>
              </div>
           </div>          
<!-- FIM DA ÁREA DE STAKE -->                   
                      
<!-- DASHBOARD LIQUIDITY -->
<div class="container my-5">
    <div class="row equal-height">
        <div class="col-lg-12">
            <div class="card bg-dark text-white mb-4">
                <div class="card-body">
                    <h2 class="card-title">Pool</h2>
                    <div class="row">
                        <div class="col-md-6 mb-4">
                            <div class="card">
                                <div class="card-body">
                                    <div class="col-md-6 mb-4 liquidity-pool-info">
                                        <div class="card" style="height: 100%;">
                                            <div class="card-body" style="display: flex; flex-direction: column; justify-content: space-between; height: 100%;">
                                                <p class="card-title">Sua Pool</p>
                                                <div>
                                                    <p style="margin-bottom: 0; text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;"><span id="yourEthAmount">0</span> Ethers</p>
                                                    <p style="margin-bottom: 0; text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;"><span id="yourTokenAmount">0</span> Drinks</p>
                                                    <p style="margin-bottom: 0; text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;">Farming: <span id="yourRewardAmount">0</span> Ethers</p>
                                                    <p style="margin-bottom: 0; text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;">Taxa de Transação: <span id="transactionFeeAmount">0%</span></p>
                                                    <button id="claimRewardsButton" class="btn btn-success btn-block">Claim</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 mb-4">
                            <div class="card">
                                <div class="card-body">
                                    <h3 class="card-title">Liquidity Pool</h3>
                                    <ul class="nav nav-tabs" id="liquidityTab" role="tablist">
                                        <li class="nav-item">
                                            <a class="nav-link active" id="addLiquidity-tab" data-toggle="tab" href="#addLiquidity" role="tab" aria-controls="addLiquidity" aria-selected="true">Adicionar</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" id="removeLiquidity-tab" data-toggle="tab" href="#removeLiquidity" role="tab" aria-controls="removeLiquidity" aria-selected="false">Remover</a>
                                        </li>
                                    </ul>
                                    <div class="tab-content" id="myTabContent">
                                        <div class="tab-pane fade show active" id="addLiquidity" role="tabpanel" aria-labelledby="addLiquidity-tab">
                                            <form id="addLiquidityForm">
                                                <div class="form-group">
                                                    <label for="addLiquidityEthAmount">Adicionar Ethereum</label>
                                                    <input type="number" class="form-control" id="addLiquidityEthAmount" placeholder="0" step="any" min="0" aria-describedby="addEthHelp">
                                                    <small id="addEthHelp" class="form-text text-muted">Insira a quantidade de Ethereum a ser adicionada.</small>
                                                </div>
                                                <div class="form-group">
                                                    <label for="addLiquidityDrinkAmount">Adicionar Drink</label>
                                                    <input type="number" class="form-control" id="addLiquidityDrinkAmount" placeholder="0" step="any" min="0" aria-describedby="addDrinkHelp">
                                                    <small id="addDrinkHelp" class="form-text text-muted">Insira a quantidade de Drink a ser adicionada.</small>
                                                </div>
                                                <button type="submit" class="btn btn-info btn-block">Adicionar Liquidez</button>
                                            </form>
                                        </div>
                                        <div class="tab-pane fade" id="removeLiquidity" role="tabpanel" aria-labelledby="removeLiquidity-tab">
                                            <form id="removeLiquidityForm">
                                                <div class="form-group">
                                                    <label for="removeLiquidityEthAmount">Remover Ethereum</label>
                                                    <input type="number" class="form-control" id="removeLiquidityEthAmount" placeholder="0" step="any" min="0" aria-describedby="removeEthHelp">
                                                    <small id="removeEthHelp" class="form-text text-muted">Insira a quantidade de Ethereum a ser removida.</small>
                                                </div>
                                                <div class="form-group">
                                                    <label for="removeLiquidityDrinkAmount">Remover Drink</label>
                                                    <input type="number" class="form-control" id="removeLiquidityDrinkAmount" placeholder="0" step="any" min="0" aria-describedby="removeDrinkHelp">
                                                    <small id="removeDrinkHelp" class="form-text text-muted">Insira a quantidade de Drink a ser removida.</small>
                                                </div>
                                                <button type="submit" class="btn btn-warning btn-block">Remover Liquidez</button>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
          </div>
       </div>
</div>
<!-- FIM DO DASHBOARD LIQUIDITY -->           
                                        
                           
  <!-- ÁREA DE SWAP -->
    <div class="container my-5">
        <div class="row equal-height">
            <div class="col-lg-12">
                <div class="card">
                    <div class="card-body">
                        <h2 class="card-title">SWAP</h2>
                           <div class="col-md-12 mb-4">
                                <div class="card">
                                
                                 <div class="form-group">
                                        <label for="fromToken">De:</label>
                                        <select class="form-control" id="fromToken">
                                            <option value="drinkToken">DRINK</option>
                                            <option value="otherToken1">WETH</option>
                                            <option value="otherToken1">USDC</option>
                                            <option value="otherToken1">MATIC</option>
                                            <!-- Adicione mais tokens aqui conforme necessário -->
                                        </select>
                                    </div>
                                    <div class="form-group">
                                      <button id="invertButton" type="submit" class="btn btn-block">
                                            <i class="fas fa-arrow-up"></i>
                                            <i class="fas fa-arrow-down"></i>
                                       </button>
                                    </div>
                                    <div class="form-group">
                                        <label for="toToken">Para:</label>
                                        <select class="form-control" id="toToken">
                                            <option value="drinkToken">DRINK</option>
                                            <option value="otherToken1">WETH</option>
                                            <option value="otherToken1">USDC</option>
                                            <option value="otherToken1">MATIC</option>
                                            <!-- Adicione mais tokens aqui conforme necessário -->
                                        </select>
                                    </div>
                                                                  
                                    <button id="swapButton" type="submit" class="btn btn-warning btn-block">Swap</button>
                                    
                                    <div id="status"></div>
                                
                                </div>
                            </div>
                       
                      </div>
                   </div>
                </div>
              </div>
           </div>
  <!-- FIM DA ÁREAD DE SWAP -->
   
 <!-- ÁREA SOLTA A VOZ COMUNIDADE -->                      
 <main>
        <div class="container">
            <h1 class="text-center my-4">Solta a voz comunidade!</h1>
            <div class="row equal-height" id="governanceProposals">
            <!-- As propostas serão adicionadas aqui dinamicamente pelo JavaScript -->
            </div>
            <div class="row mt-4">
                <div class="col-md-12">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Nova Proposta</h5>
                            <form id="createProposalForm">
                                <div class="form-group">
                                    <label for="proposalTitle">Título da Proposta</label>
                                    <input type="text" class="form-control" id="proposalTitle" placeholder="Digite o título da sua proposta">
                                </div>
                                <div class="form-group">
                                    <label for="proposalDescription">Descrição da Proposta</label>
                                    <textarea class="form-control" id="proposalDescription" rows="3" placeholder="Digite a descrição da sua proposta"></textarea>
                                </div>
                                <button type="submit" class="btn btn-success">Enviar</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
 <!-- FIM DA ÁREAD SOLTA DA VOZ COMUNIDADE -->
  
      

    <footer class="mt-5">
        <div class="container">
          <div class="logoRodape">
                    <img src="https://lh3.googleusercontent.com/pw/AP1GczOOk5wgRvI5RnKt6iz6btSie2asU4F1nBR60PUFUBbyr6KHTgk0SJ-9iUW5ETIjm9CNSznJvO9RvB7fYS9H1q3YgYfSDF6y2ytISTuo-Ilnanc1LkNxgkgP8zyNL7iFe26oBwimAPQKub5d5nzLhC0A=w647-h647-s-no-gm?authuser=0" alt="DrinkDrips">
                  <p>&copy; <span id="year"></span> DrinkDrips. Todos os direitos reservados.</p>
                                </div>
             </div>
    </footer>

    <script type="module" src="scripts/connectWallet.js"></script>
    <script type="module" src="scripts/liquidityPool.js"></script>
<script type="module" src="scripts/governance.js" defer></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.getElementById('year').textContent = new Date().getFullYear();
    </script>
    <script>
        $(document).ready(function() {
            $('#myTab').tab();
        });
    </script>
</body>
</html>
